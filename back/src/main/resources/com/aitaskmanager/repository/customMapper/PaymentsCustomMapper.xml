<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.aitaskmanager.repository.customMapper.PaymentsCustomMapper">
  <select id="existsByPaymentId" resultType="int">
    SELECT COUNT(1)
    FROM payments
    WHERE payment_id = #{paymentId}
  </select>
  <insert id="insertPayment">
    INSERT INTO payments (user_sid, amount, currency, payment_method, payment_id, status, paid_at)
    VALUES (#{userSid}, #{amount},
      #{currency}, #{paymentMethod}, #{paymentId}, #{status}, CURRENT_TIMESTAMP)
  </insert>
</mapper>